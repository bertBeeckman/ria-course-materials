<!doctype html>  
<html lang="en">
	
	<head>
		<meta charset="utf-8">
		
		<title>Rich Internet Applications &mdash; 07.RESTful.APIs</title>

		<meta name="description" content="Rich Internet Applications &mdash; 06.Ajax">
		<meta name="author" content="Bram(us) Van Damme - ikdoeict.be">
		
		<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
		
		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/main.css" media="screen">
		<link rel="stylesheet" href="css/print.css" media="print">
		<!-- <link rel="stylesheet" href="assets/07/examples.css"> -->
		
		<style>
			code {
				color: gainsboro;
			}

			li > code, li em > code, li del > code, li ins > code {
				background: #3F3F3F;
				padding: 2px 4px;
				box-shadow: 0px 0px 6px rgba(0,0,0,0.3);
				font-size: 80%;
			}
			
			del code, code.nok {
				color: #C55;
			}
			
			ins code, code.ok {
				color: #5C5;
			}
		</style>

		<link rel="stylesheet" href="lib/zenburn.css">
	</head>
	
	<body>
		
		<div id="reveal">
			
			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">


				
				<!-- 0 : Title -->
				<section>
					<section>
						<h3 class="inverted">Rich Internet Applications</h3>
						<h1>07.RESTful.APIs</h1>
					
						<footer>
							<em><a href="http://www.ikdoeict.be/">ikdoeict.be</a> &mdash; <a href="mailto:bramus.vandamme@kahosl.be">bramus.vandamme@kahosl.be</a></em>
						</footer>
						<script>
							// Delicously hacky. Look away.
							if(navigator.userAgent.match(/(iPhone|iPad|iPod|Android)/i))
							document.write('<p style="color: rgba(0,0,0,0.3); text-shadow: none;">('+'Tap to navigate'+')</p>');
						</script>
					</section>
				</section>


				<!-- 1 : REST Intro -->
				<section>

					<section>
						<h2>RESTful APIs</h2>
						<p><img src="assets/07/resting.png" alt="" title="" height="375" width="500" /></p>
						<q>The key to victory is discipline,<br />and that means a well made bed.</q>
					</section>

					<section>
						<h2>RESTful API?</h2>
						<ul>
							<li class="fragment">
								An API that is REST compliant
							</li>
						</ul>
					</section>

					<section>
						<h2>SRSLY?</h2>
						<p><img src="assets/07/notsureif.png" alt="Not Sure If ..." title="Not Sure If ..." width="480" height="360" /></p>
						<p><em>Not sure if trolling or just &ldquo;technically correct&rdquo;</em></p>
					</section>

					<section>
						<h2>API</h2>
						<ul>
							<li class="fragment">
								Application Programming Interface
								<ul>
									<li class="fragment">Abstract Interface to allow communication between software components</li>
								</ul>
							</li>
							<li class="fragment">
								In web context
								<ul>
									<li class="fragment">Language independent</li>
									<li class="fragment">Allow you to push/pull data to/from a web site</li>
									<li class="fragment">Sometimes referred to as a &ldquo;Web Service&rdquo; <em>(blame Microsoft)</em></li>
									<li class="fragment">Implemented via JavaScript, XML-RPC, SOAP, or REST</li>
									<li class="fragment">Return formats JS, XML, HTML, plaintext, or JSON(P)</li>
								</ul>
							</li>
						</ul>
					</section>

					<section>
						<h2>Why API? (1)</h2>
						<ul>
							<li class="fragment">
								See cool stuff built on top of your technology platform
								<div style="text-align: center; margin-top: 30px;">
									<figure class="fragment">
										<img src="assets/07/BotanicallsSparkfunKit_jade1_800.jpg" alt="" title="" height="300" width="400" />
										<figcaption>Let your plants tell you via Twitter that they're thirsty with <a href="http://www.botanicalls.com/kits/">botanicalls</a></figcaption>
									</figure>
									<figure class="fragment">
										<img src="assets/07/kickbee.jpg" alt="" title="" height="250" width="400" />
										<figcaption>Know when your baby kicked via Twitter with <a href="http://www.botanicalls.com/kits/">http://kickbee.net/</a></figcaption>
									</figure>
								</div>
							</li>
						</ul>
					</section>

					<section>
						<h2>Why API? (2)</h2>
						<ul>
							<li class="fragment">
								See cool stuff built using your data
								<div style="text-align: center; margin-top: 30px;">
									<figure class="fragment">
										<img src="assets/07/gowallaheat.jpg" alt="" title="" height="300" width="400" />
										<figcaption>Visualize your Gowalla (RIP) checkins with <a href="http://gowallaheat.bram.us/">GowallaHEAT</a></figcaption>
									</figure>
									<figure class="fragment">
										<img src="assets/07/tweetie.jpg" alt="" title="" height="300" width="410" />
										<figcaption>Write your own Twitter Client (and eventually <a href="http://mashable.com/2010/04/09/breaking-twitter-acquires-tweetie-iphone-app/">get bought by Twitter</a>)</figcaption>
									</figure>
								</div>
							</li>
						</ul>
					</section>
					
					<section>
						<h2>REST</h2>
						<ul>
							<li class="fragment">
								REST = REpresentational State Transfer
							</li>
							<li class="fragment">
								In web API context
								<ul>
									<li class="fragment">
										<strong>URL</strong>s identify a <strong>Resource</strong>
										<ul>
											<li class="fragment">Resources have a hierarchy</li>
										</ul>
									</li>
									<li class="fragment">
										HTTP <strong>Verbs</strong> are used for <strong>Operations</strong> on resources
										<ul>
											<li class="fragment">The verb (<code>GET</code>, <code>POST</code>, <code>PUT</code>, <code>DELETE</code>) is not part of the URL!</li>
										</ul>
									</li>
									<li class="fragment">
										Returns data <em>(if any)</em> along with an <a href="http://restpatterns.org/HTTP_Status_Codes">HTTP Status Code</a>
									</li>
								</ul>
							</li>
						</ul>
					</section>

					<section>
						<h2>REST URL Examples</h2>
						<ul>
							<li class="fragment"><em>Resource Identification</em>
								<ul>
									<li><code>/users</code> identifies all users</li>
									<li><code>/users/1</code> identifies User #1</li>
								</ul>
							</li>
							<li class="fragment"><em>Hierarchy</em>
								<ul><li><code>/users/1/friends</code> gets all friends of User #1</li></ul>
							</li>
							<li class="fragment"><em>Operations</em>
								<ul>
									<li><code>GET /users/1</code> will fetch the user</li>
									<li><code>DELETE /users/1</code> will delete it</li>
								</ul>
							</li>
							<li class="fragment"><em>Status Codes</em>
								<ul>
									<li><code>GET /users/1</code> will return <code>200 - OK</code> along with the user data</li>
									<li><code>POST /users</code> will return <code>201 - Created</code></li>
								</ul>
							</li>
						</ul>
					</section>
								
					<section>
						<h2>Why REST?</h2>
						<ul>
							<li class="fragment">It's easy to work with</li>
							<li class="fragment">It's easy to implement</li>
							<li class="fragment">It's well structured</li>
							<li class="fragment">
								It's popular
								<div style="text-align: center; margin-top: 10px;">
									<figure>
										<img src="assets/07/rest_winning.png" alt="" title="" height="299" width="707" />
										<figcaption>Figure by <a href="http://www.slideshare.net/jmusser/pw-glue-conmay2010">jmusser</a></figcaption>
									</figure>
								</div>
							</li>
						</ul>
					</section>
													
				</section>


				<!-- 1 : REST URL Design -->
				<section>

					<section>
						<h2>REST URL Design</h2>
						<p><img src="assets/07/globetrotters.png" alt="" title="" height="375" width="500" /></p>
						<q>This chronological wang-dang-doodle<br />could destroy the very matrix of reality.</q>
					</section>
					
					<section>
						<h2>REST URL Design</h2>
						<ul>
							<li class="fragment">
								Truth be told, lots of APIs think they're RESTful when they in fact aren't
							</li>
							<li class="fragment">
								It's simple though, if you apply the basic rules
								<ol class="fragment">
									<li>
										<strong>URL</strong>s identify a <strong>Resource</strong> and are <strong>hierarchical</strong>
									</li>
									<li>
										HTTP <strong>Verbs</strong> are used for <strong>Operations</strong> on resources
									</li>
									<li>
										Returns data <em>(if any)</em> along with an <a href="http://restpatterns.org/HTTP_Status_Codes">HTTP Status Code</a>
									</li>
								</ol>
							</li>
						</ul>
					</section>

					<section>
						<h2>1. Identification &amp; Hierarchy</h2>
						<ul>
							<li class="fragment">
								Basic naming conventions
								<ul>
									<li class="fragment">Verbs are bad, nouns are good</li>
									<li class="fragment">Use plurals</li>
									<li class="fragment">Respect the Hierarchy</li>
								</ul>
							</li>
							<li class="fragment">
								Examples
								<ul>
									<li class="fragment"><del><code>/product</code></del> &rarr; <ins><code>/products</code></ins></li>
									<li class="fragment"><del><code>/product/1234</code></del> &rarr; <ins><code>/products/1234</code></ins></li>
									<li class="fragment"><del><code>/photos/product/1234</code></del> &rarr; <ins><code>/products/1234/photos</code></ins></li>
									<li class="fragment"><del><code>/photos/product/1234/5678</code></del> &rarr; <ins><code>/products/1234/photos/5678</code></ins></li>
								</ul>
							</li>
					</section>

					<section>
						<h2>1. Identification &amp; Hierarchy bis</h2>
						<ul>
							<li class="fragment">
								Use concrete naming, yet don't be too specific
								<ul>
									<li class="fragment"><del><code>/things</code></del></li>
									<li class="fragment"><del><code>/animals</code></del></li>
									<li class="fragment"><code class="ok">/dogs</code></li>
									<li class="fragment"><del><code>/beagles</code></del></li>
								</ul>
							</li>
							<li class="fragment">
								Some cases will require a verb instead of a noun, yet consider these exceptions
								<ul>
									<li class="fragment"><code>/search?course=RIA</code></li>
									<li class="fragment"><code>/convert?from=EUR&amp;to=USD&amp;amount=100</code></li>
								</ul>
							</li>
					</section>

					<section>
						<h2>2. HTTP Verbs</h2>
						<ul>
							<li class="fragment">
								HTTP Verbs = CRUD = Queries
								<ol>
									<li class="fragment"><code>POST</code> = Create = <code>INSERT</code></li>
									<li class="fragment"><code>GET</code> = Read = <code>SELECT</code></li>
									<li class="fragment"><code>PUT</code> = Update = <code>UPDATE</code></li>
									<li class="fragment"><code>DELETE</code> = Delete = <code>DELETE</code></li>
								</ol>
							</li>
							<li class="fragment">
								Examples
								<ol>
									<li class="fragment"><code>POST /products</code> <em>(data via <code>$_POST</code>)</em></li>
									<li class="fragment"><code>GET /products</code> or <code>GET /products/1234</code></li>
									<li class="fragment"><code>PUT /products/1234</code> <em>(data via &ldquo;<code>$_PUT</code>&rdquo;)</em></li>
									<li class="fragment"><code>DELETE /products/1234</code></li>
								</ol>
							</li>
					</section>

					<section>
						<h2>3. HTTP Status Codes (1)</h2>
						<ul>
							<li class="fragment">
								General Codes (applicable to all verbs/resources)
								<ul>
									<li class="fragment"><code>401 &mdash; Not Authorized</code> <em>(viz. No API Key given)</em></li>
									<li class="fragment"><code>500 &mdash; Internal Server Error</code> <em>(Developer screwed up ;))</em></li>
									<li class="fragment"><code>501 &mdash; Not Implemented</code> <em>(viz. wrong verb or invalid resource)</em></li>
								</ul>
							</li>
							<li class="fragment">
								<code>GET</code> <small style="vertical-align: baseline;">(SQL SELECT)</small>
								<ul>
									<li class="fragment"><code>200 &mdash; OK</code> <em>(requested data sent via response body)</em></li>
									<li class="fragment"><code>404 &mdash; Not Found</code></li>
								</ul>
							</li>
							<li class="fragment">
								<code>POST</code> <small style="vertical-align: baseline;">(SQL INSERT)</small>
								<ul>
									<li class="fragment"><code>201 &mdash; Created</code> <em>(=OK)</em></li>
									<li class="fragment"><code>400 &mdash; Bad Request</code> <em>(Missing Parameters)</em></li>
								</ul>
							</li>
					</section>

					<section>
						<h2>3. HTTP Status Codes (2)</h2>
						<ul>
							<li class="fragment">
								<code>PUT</code> <small style="vertical-align: baseline;">(SQL UPDATE)</small>
								<ul>
									<li class="fragment"><code>200 &mdash; OK</code> <em>(requested data sent via response body)</em></li>
									<li class="fragment"><code>400 &mdash; Bad Request</code> <em>(Missing Parameters)</em></li>
									<li class="fragment"><code>404 &mdash; Not Found</code></li>
								</ul>
							</li>
							<li class="fragment">
								<code>DELETE</code> <small style="vertical-align: baseline;">(SQL DELETE)</small>
								<ul>
									<li class="fragment"><code>204 &mdash; No Content</code> <em>(=OK &mdash; Note: <strong>no</strong> response body sent!)</em></li>
									<li class="fragment"><code>404 &mdash; Not Found</code></li>
								</ul>
							</li>
					</section>
					
					<section>
						<h2>Case Study: Twitter API (1)</h2>
						<ul>
							<li class="fragment">
								One of the first and most popular APIs, suffering from historically grown bloat.
							</li>
							<li class="fragment">
								Get a status
								<ul>
									<li class="fragment">
										Endpoint
										<ul>
											<li><code>GET api.twitter.com/1/statuses/show/id.format</code></li>
										</ul>
									</li>
									<li class="fragment">
										Problems
										<ul>
											<li class="fragment">Operation <code>show</code> included in URL</li>
											<li class="fragment">Status id not a child of <code>statuses</code></li>
										</ul>
									</li>
									<li class="fragment">
										Better
										<ul>
											<li class="fragment"><code>GET api.twitter.com/1/statuses/id</code></li>
										</ul>
									</li>
								</ul>
							</li>
						</ul>
					</section>

					<section>
						<h2>Case Study: Twitter API (2)</h2>
						<ul>
							<li class="fragment">
								Set (update) your status
								<ul>
									<li class="fragment">
										Endpoint
										<ul>
											<li><code>POST api.twitter.com/1/statuses/show/update.format</code></li>
										</ul>
									</li>
									<li class="fragment">
										Problems
										<ul>
											<li class="fragment">Operation <code>update</code> included in URL</li>
											<li class="fragment">Uses authenticated user implicitly</li>
										</ul>
									</li>
									<li class="fragment">
										Better
										<ul>
											<li class="fragment"><code>POST api.twitter.com/1/users/id/statuses</code></li>
										</ul>
									</li>
								</ul>
							</li>
						</ul>
					</section>

					<section>
						<h2>Case Study: Twitter API (3)</h2>
						<ul>
							<li class="fragment">
								Remove a status udpate
								<ul>
									<li class="fragment">
										Endpoint
										<ul>
											<li><code>POST api.twitter.com/1/statuses/destroy/id.format</code></li>
										</ul>
									</li>
									<li class="fragment">
										Problems
										<ul>
											<li class="fragment">Operation <code>destroy</code> included in URL</li>
											<li class="fragment">Uses authenticated user implicitly</li>
										</ul>
									</li>
									<li class="fragment">
										Better
										<ul>
											<li class="fragment"><code>DELETE api.twitter.com/1/statuses/id</code></li>
										</ul>
									</li>
								</ul>
							</li>
						</ul>
					</section>

					<section>
						<h2>Case Study: Twitter API (4)</h2>
						<ul>
							<li class="fragment">
								Get retweets of a status
								<ul>
									<li class="fragment">
										Endpoint
										<ul>
											<li><code>GET api.twitter.com/1/statuses/retweets/id.format</code></li>
										</ul>
									</li>
									<li class="fragment">
										Problems
										<ul>
											<li class="fragment">Hierarchy is wrong</li>
										</ul>
									</li>
									<li class="fragment">
										Better
										<ul>
											<li class="fragment"><code>GET api.twitter.com/1/statuses/id/retweets</code></li>
										</ul>
									</li>
								</ul>
							</li>
						</ul>
					</section>
					
					<section>
						<h2>URL Design Sidenotes</h2>
						<ul>
							<li class="fragment">
								API Versioning
								<ul>
									<li class="fragment">Allowed in URL, as the 1st param (viz. Twitter <code>api.twitter.com/1/&hellip;</code>)</li>
									<li class="fragment">Also possible to send it in via a header</li>
								</ul>
							</li>
							<li class="fragment">
								Pagination
								<ul>
									<li class="fragment">Mandatory for huge resources</li>
									<li class="fragment">Use <code>limit</code> and <code>offset</code> URL Params, defaulting to <code>?limit=10&amp;offset=0</code></li>
								</ul>
							</li>
							<li class="fragment">
								Filtering &amp; Sorting
								<ul>
									<li class="fragment">Via URL Params <code>?filter=foo&amp;sort=asc</code></li>
								</ul>
							</li>
							<li class="fragment">
								Limiting fields
								<ul>
									<li class="fragment">Via URL Param <code>?fields=firstname,lastname,age</code></li>
								</ul>
							</li>
						</ul>
						<footer class="fragment">These practices are optional, we won't be implementing them ourselves</footer>
					</section>
					
					<section>
						<h2>Documentation</h2>
						<ul>
							<li class="fragment">As with most stuff on the internet, your API is useless without documentation</li>
							<li class="fragment">
								If no documentation, at least provide
								<ul>
									<li class="fragment"><a href="http://bramus.github.com/simple-rest-api-explorer/">An API explorer</a></li>
									<li class="fragment">A code example</li>
								</ul>
							</li>
						</ul>
					</section>

				</section>

				
				<!-- The END -->
				<section>
					<section>
						<h2>Questions?</h2>
						<footer>
							<em><a href="http://www.ikdoeict.be/">ikdoeict.be</a> &mdash; <a href="mailto:bramus.vandamme@kahosl.be">bramus.vandamme@kahosl.be</a></em>
						</footer>
					</section>
				</section>



				<!-- Sources -->
				<section id="sources">
					<section>
						<h2>Sources</h2>
						<ul>
							<!-- REST Intro -->
							<li><a href="http://en.wikipedia.org/wiki/Representational_state_transfer">http://en.wikipedia.org/wiki/Representational_state_transfer</a></li>
							<li><a href="http://www.slideshare.net/jmusser/pw-glue-conmay2010">http://www.slideshare.net/jmusser/pw-glue-conmay2010</a></li>
							<li><a href="http://www.slideshare.net/al3x/the-interaction-design-of-apis">http://www.slideshare.net/al3x/the-interaction-design-of-apis</a></li>
							
							<!-- REST URL Design -->
							<li><a href="http://www.slideshare.net/Wombert/phpjp-urls-rest">http://www.slideshare.net/Wombert/phpjp-urls-rest</a></li>
							<li><a href="http://www.slideshare.net/apigee/restful-api-design-second-edition">http://www.slideshare.net/apigee/restful-api-design-second-edition</a></li>
							<li><a href="http://restpatterns.org/HTTP_Status_Codes">http://restpatterns.org/HTTP_Status_Codes</a></li>
							
							<!-- REST in PHP -->
							<li><a href="http://www.recessframework.org/page/towards-restful-php-5-basic-tips">http://www.recessframework.org/page/towards-restful-php-5-basic-tips</a></li>
							<li><a href="http://www.gen-x-design.com/archives/create-a-rest-api-with-php/">http://www.gen-x-design.com/archives/create-a-rest-api-with-php/</a></li>
							
							<!-- Authentication -->
							<li><a href="http://en.wikipedia.org/wiki/Oauth">http://en.wikipedia.org/wiki/Oauth</a></li>
							<li><a href="http://www.slideshare.net/leahculver/oauth-open-api-authentication">http://www.slideshare.net/leahculver/oauth-open-api-authentication</a></li>
							
						</ul>
					</section>
				</section>
				
			</div>

			<!-- The navigational controls UI -->
			<aside class="controls">
				<a class="left" href="#">&#x25C4;</a>
				<a class="right" href="#">&#x25BA;</a>
				<a class="up" href="#">&#x25B2;</a>
				<a class="down" href="#">&#x25BC;</a>
				<span id="revealIndex">/</span>
			</aside>

			<!-- Index Link -->
			<aside class="back">
				<a href="index.html">&larr; Back to index</a>
			</aside>
			
			<!-- ikdoeict.be Link -->
			<a href="http://www.ikdoeict.be/" title="ikdoeict.be" id="ikdoeict">ikdoeict.be</a>

			<!-- Displays presentation progress, max value changes via JS to reflect # of slides -->
			<div class="progress"><span></span></div>
			
		</div>
		
		<script src="js/reveal.js"></script>
		<script src="lib/highlight.js"></script>
		<script src="lib/prefixfree.js"></script>
		<script src="lib/css-snippets.js"></script>
		<script src="lib/css-edit.js"></script>
		<script src="lib/incrementable.js"></script>
		<script src="js/main.js"></script>

	</body>
</html>